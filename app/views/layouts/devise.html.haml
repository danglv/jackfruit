!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %meta{:name => "viewport", :content => "width=device-width, initial-scale=1"}/
    %meta{:content => "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no", :name => "viewport"}
    %link{:href => "//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css", :rel => "stylesheet"}
    = favicon_link_tag 'favicon_pedia.png'
    %title= help_get_title
    = stylesheet_link_tag    'application', media: 'all'
    :javascript
      if (window.location.hash && window.location.hash == '#_=_') {
          if (window.history && history.pushState) {
              window.history.pushState("", document.title, window.location.pathname);
          } else {
              // Prevent scrolling by storing the page's current scroll offset
              var scroll = {
                  top: document.body.scrollTop,
                  left: document.body.scrollLeft
              };
              window.location.hash = '';
              // Restore the scroll offset, should be flicker free
              document.body.scrollTop = scroll.top;
              document.body.scrollLeft = scroll.left;
          }
      }
    = csrf_meta_tags
  %body
    = yield
    = javascript_include_tag 'application'

    - if Rails.env == 'production'
      :javascript
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      - if current_user && current_user.id
        :javascript
          ga('create', 'UA-65260176-1', {'userId': "#{current_user.id}"});
          ga('send', 'pageview');
      - else
        :javascript
          ga('create', 'UA-65260176-1', 'auto');
          ga('send', 'pageview');

