%main.search
  .row.search-header
    .row.container-1140.search-false-title
      .col.s12
        %h4 Không có kết quả cho từ khóa "#{@keywords}"
  .row.category-feature-main.container-1140
    .col.s12
      -# highest-rating
      .row.course-list.highest-rating
      - if (!@courses['featured'].blank?)
        .col.s12
          .row.course-list-header
            .col.s12
              %h5.course-list-header-title= @courses['featured'].first
          .row.courses.card-style
            - @courses["featured"].last.each do |tf|
              .col.s3
                %a.course{:href => '/courses/' + tf.id.to_s + '/detail'}
                  .card-image.course-image
                    = image_tag 'course-image.png'
                  .card-content.course-content{:style => "height: 300px"}
                    .row.course-title
                      .col.s12.no-padding.fix-height= tf.name
                    .row.course-author
                      .col.s12.no-padding= 'By ' + tf.user.name.to_s
                    .row.course-rating
                      .col.s7.course-rating-point.no-padding
                        - (1..5).each do |i|
                          - if i <= tf.average_rating
                            %i.material-icons.is-rated star_rate
                          - else
                            %i.material-icons star_rate
                      .col.s5.course-rating-people.no-padding= '(' + tf.num_rate.to_s + ')'
                    .row.course-footer
                      .col.s6.no-padding.course-favorite
                        %span.left
                          %i.material-icons.is-favorite favorite
                        %span.left= tf.students.to_s
                      - if tf.price == 0
                        .col.s6.no-padding.course-price.free{:style => "text-align:right;"}
                          Miễn phí
                      - else
                        .col.s6.no-padding.course-price{:style => "text-align:right;"}= tf.price.to_s + 'đ' 
      .row.course-list.highest-rating
        .col.s12
          .row.course-list-header
            .col.s12
              %h5.course-list-header-title= @courses["top_free"].first
          .row.courses.card-style
            - @courses["top_free"].last.each do |tf|
              .col.s3
                %a.course{:href => '/courses/' + tf.id.to_s + '/detail'}
                  .card-image.course-image
                    = image_tag 'course-image.png'
                  .card-content.course-content{:style => "height: 300px"}
                    .row.course-title
                      .col.s12.no-padding.fix-height= tf.name
                    .row.course-author
                      .col.s12.no-padding= 'By ' + tf.user.name.to_s
                    .row.course-rating
                      .col.s7.course-rating-point.no-padding
                        - (1..5).each do |i|
                          - if i <= tf.average_rating
                            %i.material-icons.is-rated star_rate
                          - else
                            %i.material-icons star_rate
                      .col.s5.course-rating-people.no-padding= '(' + tf.num_rate.to_s + ')'
                    .row.course-footer
                      .col.s6.no-padding.course-favorite
                        %span.left
                          %i.material-icons.is-favorite favorite
                        %span.left= tf.students.to_s
                      - if tf.price == 0
                        .col.s6.no-padding.course-price.free{:style => "text-align:right;"}
                          Miễn phí
                      - else
                        .col.s6.no-padding.course-price{:style => "text-align:right;"}= tf.price.to_s +'đ'  
      .row.course-list.highest-rating
        .col.s12
          .row.course-list-header
            .col.s12
              %h5.course-list-header-title= @courses["top_paid"].first
          .row.courses.card-style
            - @courses["top_paid"].last.each do |course|
              .col.s3
                %a.course{:href => '/courses/' + course.id.to_s + '/detail'}
                  .card-image.course-image
                    = image_tag 'course-image.png'
                  .card-content.course-content{:style => "height: 300px"}
                    .row.course-title
                      .col.s12.no-padding.fix-height= course.name
                    .row.course-author
                      .col.s12.no-padding= 'By ' + course.user.name.to_s
                    .row.course-rating
                      .col.s7.course-rating-point.no-padding
                        - (1..5).each do |i|
                          - if i <= course.average_rating
                            %i.material-icons.is-rated star_rate
                          - else
                            %i.material-icons star_rate
                      .col.s5.course-rating-people.no-padding= '(' + course.num_rate.to_s + ')'
                    .row.course-footer
                      .col.s6.no-padding.course-favorite
                        %span.left
                          %i.material-icons.is-favorite favorite
                        %span.left= course.students.to_s
                      - if course.price == 0
                        .col.s6.no-padding.course-price.free{:style => "text-align:right;"}
                          Miễn phí
                      - else
                        .col.s6.no-padding.course-price{:style => "text-align:right;"}= course.price 
