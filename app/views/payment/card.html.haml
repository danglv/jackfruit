%header
  = render :partial => 'layouts/header'
  = render :partial => 'components/side_nav'

%main.payment
  .row
    .col.s12.no-padding
      = render :partial => 'payment/header_payment'
      .container-1140
        = render 'payment_method', method: 'card'
        .row.payment-content.active
          .col.s12
            %h4 2. Hoàn tất thanh toán
          .col.s12
            .row.no-margin
              %p.no-margin Nạp tiền bằng thẻ cào điện thoại
              %row.left
                - money = number_to_currency(current_user.money, :locale => 'vi', :unit => 'đ', :precision => 0, :delimiter => ",", :format => "%n%u")
                %p.left{:style => "margin: 0px 0px 18px 0px"}= "Hiện tại trong ví của bạn đang có " + money + ", bạn hãy nạp thêm " 
                - money = number_to_currency(@course.price - current_user.money, :locale => 'vi', :unit => 'đ', :precision => 0, :delimiter => ",", :format => "%n%u")
                %p.left.red-text{:style => "margin: 0px 5px 18px 5px"}= money
                %p.left{:style => "margin: 0px 0px 18px 0px"} để thanh toán khóa học này.
            .row
              %p.no-margin Hướng dẫn nạp tiền bằng thẻ cào điện thoại, thẻ game:
              %ul.left{:style => "margin-top: 0px"}
                %li.left
                  %p.left.index-number 1
                  %p.no-margin.left{:style => "line-height: 35px;"} Cào lớp tráng bạc để biết mã thẻ (Áp dụng cho Vinaphone, Viettel và Mobifone)
                %li.left 
                  %p.left.index-number 2
                  %p.no-margin.left{:style => "line-height: 35px;"} Chọn loại thẻ & nhập mã thẻ cùng số seri rồi ấn nút “Nạp ngay”. Lưu ý viết liền không khoảng trắng hoặc dấu “-”
                %li.left 
                  %p.left.index-number 3
                  %p.no-margin.left{:style => "line-height: 35px;"} Quay lại bước hai để nạp thẻ tiếp theo
            .row
              .row#list-provider
                %ul.left
                  %li.active-provider{:val => "MOBI"}
                    = image_tag 'payment/mobifone'
                  %li{:val => "VINA"}
                    = image_tag 'payment/vinaphone'
                  %li{:val => "VIETEL"}
                    = image_tag 'payment/viettel'
                  %li{:val => "GATE"}
                    = image_tag 'payment/gate'
              .row
                %form#form-card{:method => "post",:action => "/home/payment/card"}
                  .row
                    / %select.browser-default{:name => "card_id", :required => "required"}
                    /   %option{:disabled => "", :selected => "", :value => ""} Chọn loại thẻ cào
                    /   %option{:value => "MOBI"} Mobiphone
                    /   %option{:value => "VINA"} Vinaphone
                    /   %option{:value => "VIETEL"} Viettel
                    /   %option{:value => "GATE"} GATE
                    /   %option{:value => "VTC"} VTC
                    %input#card-id{:type => "hidden", :name => "card_id", :value => "MOBI"}
                    %input{:type => "hidden", :name => "alias_name", :value => @course.alias_name}
                    %input{:type => "hidden", :name => "p", :placeholder => "baokim_card", :value => "baokim_card"}
                    = hidden_field_tag :authenticity_token, form_authenticity_token
                    .input-field
                      %input.no-margin{:type => "text", :name => "pin_field", :placeholder => "Mã số thẻ", :required => "required"}
                    .input-field
                      %input.no-margin{:type => "text", :name => "seri_field", :placeholder => "Số seri", :required => "required"}
                    - if @error
                      %p.red-text{:style => "margin-bottom: 10px; margin-top: -10px"}= @error
                    %input.btn.btn-large.expanded{:type => 'submit', :value => 'Đặt mua khóa học', :style => "background-color: #38b34a"}
